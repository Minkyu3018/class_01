<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script>

        let memo
        let cnt

        document.addEventListener('DOMContentLoaded', ()=>{
            // 글자수 체크 : keyup
            memo = document.querySelector('#memo')
            cnt = document.querySelector('#cnt')

            memo.addEventListener('keyup', memoListener)

        //     memo.addEventListener('keyup', ()=>{
        //         console.log(memo.value)
        //         let memoStr = memo.value
        //         const len = memo.value.length
        //         if(len>20){
        //             alert('20자 이하초만 쓰기 가능함')
        //             memo.value = memoStr.substring(0,20)
        //         }
        //         cnt.textContent = `글자수 : ${len}`
        //     })
        })

        const memoListener = function(event){

            // event.currentTarget 이벤트가 발생한 문서객체
            let memoObj = event.currentTarget

            // console.log(memoObj.value)
            console.log(memoObj.value)

            // let memoStr = memo.value
            let memoStr = memObj.value

            // const len = memo.value.length
            const len = memoStr.length

         
                if(len>20){
                    alert('20자 이하초만 쓰기 가능함')
                    // memo.value = memoStr.substring(0,20)
                    memoStr.value = memoStr.substring(0,20)
                    len = 20
                }
                cnt.textContent = `글자수 : ${len}`
        }

    </script>
</head>
<body>


    <h1>키보드 이벤트</h1>
    <textarea id="memo"></textarea>
    <h4 id="cnt">글자수 :</h4>
    
</body>
</html>